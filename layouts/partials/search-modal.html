<div x-data="searchComponent()" x-init="init()" x-cloak>
  <!-- „Éà„É™„Ç¨„Éº -->
  <a
    href="#"
    @click.prevent="open = true"
    class="search-toggle"
    aria-label="Search"
  >
    üîç
  </a>

  <!-- „É¢„Éº„ÉÄ„É´Êú¨‰Ωì -->
  <div
    x-show="open"
    @click.self="open = false"
    class="modal-overlay fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center"
    x-transition
    @keydown.escape.window="open = false"
  >
    <!-- „É¢„Éº„ÉÄ„É´Êú¨‰ΩìÔºö„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„ÇÇÈñâ„Åò„Å™„ÅÑ„Çà„ÅÜ„Å´ stop -->
    <div
      class="modal-box bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl shadow-lg relative"
      @click.stop
    >
      <!-- üîç Ê§úÁ¥¢„Éú„ÉÉ„ÇØ„Çπ UI „Ç´„Çπ„Çø„Éû„Ç§„Ç∫ -->
      <div class="search-wrapper">
        <div class="search-box-container">
          <!-- üîç„Ç¢„Ç§„Ç≥„É≥ -->
          <span class="text-gray-500 dark:text-gray-300 mr-2">üîç</span>

          <!-- ÂÖ•ÂäõÊ¨Ñ -->
          <input
            type="text"
            placeholder="Ê§úÁ¥¢Ë™û„ÇíÂÖ•Âäõ..."
            x-model="searchQuery"
            @input.debounce.300ms="search"
            x-ref="searchInput"
            @keydown.window.slash.prevent="open = true; $nextTick(() => $refs.searchInput.focus())"
          />

          <!-- ‚úï„Éú„Çø„É≥ -->
          <button @click="searchQuery = ''; open = false">‚úï</button>
        </div>
      </div>

      <!-- üîé Ê§úÁ¥¢ÁµêÊûú -->
      <div class="search-results-wrapper">
        <ul class="search-results">
          <template
            x-for="result in results"
            :key="result?.item?.permalink || result?.refIndex || result"
          >
            <li class="search-result" x-show="result?.item">
              <a :href="result.item.url" class="search-result-link">
                <div class="search-result-card">
                  <img
                    :src="result.item.image"
                    class="search-result-thumb"
                    alt=""
                  />
                  <div class="search-result-content">
                    <h3 x-text="result.item.title"></h3>
                    <p x-text="result.item.summary"></p>
                    <span class="read-more">‚Üí Á∂ö„Åç„ÇíË™≠„ÇÄ</span>
                  </div>
                </div>
              </a>
            </li>
          </template>
        </ul>
      </div>
    </div>
  </div>
</div>

<script src="/js/searchComponent.js" defer></script>
