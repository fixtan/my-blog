[{"content":"こんにちは、lainです。\nAI、画像生成、動画、コマンドラインが大好きです。\nこのブログでは学習したこと、役に立ったTipsを発信しています。\n","summary":"\u003cp\u003eこんにちは、lainです。\u003cbr\u003e\nAI、画像生成、動画、コマンドラインが大好きです。\u003c/p\u003e\n\u003cp\u003eこのブログでは学習したこと、役に立ったTipsを発信しています。\u003c/p\u003e","title":"自己紹介","url":"/about/"},{"content":"朝、PCを起動したらメインモニターが真っ暗。\n現在のグラフィックボードからモニタへの接続は、やや特殊で、ASRockのThunderbolt4 AICカードに、DisplayPortでGPUとケーブル接続し、Thunderbolt4 AICカード側はノーブランド（中華製）の「USB-C -\u0026gt; HDMI 変換 2 ポート」を繋ぎ、HDMIケーブルでモニタに繋ぐというややこしいつなぎ方をしてます。\nつまり\nRTX4070Ti → Thunderbolt AIC → USB-C → HDMI変換 → モニタ（L887）\nという構成でしたが、突然映らなくなりました。\n当初は、Thunderboltカードの故障を疑いましたが、デバイスマネージャーやThunderboltコントロールセンター上では正常に動作しているように見え、異常は確認できませんでした。\nMicrosoft Thunderbolt™ コントロール・センター 公式\nhttps://apps.microsoft.com/detail/9n6f0jv38ph1?hl=ja-JP\u0026amp;gl=JP\nここで、故障原因として考えられるのは・・\n原因①：BIOS設定 Thunderboltサポートが有効になっているか？ （ASRockマザーの場合、TBT設定がBIOSにあり）\nSecurity Levelが「No Security」や「User Authorization」以外になっていないか\n「認証待ち」状態で止まっていると、表示されないことがあります\n原因②：Thunderboltコントロールセンター 「Thunderbolt コントロールセンター」アプリ インストールの有無と、「接続されたデバイス」や「Thunderboltポート」が表示されるか確認\n※Microsoft Storeからインストール可能\n原因③：ケーブル・接続不良 Thunderbolt 4 AICカードはマザーボードのTBTヘッダーと必ず接続する必要があり接続に問題がないかどうか。（チェック済み）\n⚠ これが接続されていないと Thunderbolt コントローラーが無効化される\n原因④：DisplayPortの接触 基礎的な事としてグラボ（RTX 4070Ti）→ Thunderbolt AICカードへの DisplayPort INケーブルはきちんと接続されているか？（チェック済み）\nこれが未接続、もしくは接触不良だと映像信号がカードに届かず映像出力できません。\n■とりあえず、BIOSの項目をチェック・・・\nカードの接触不良を確認する前に、とりあえず、BIOS設定の「Thunderbolt Support」が有効になっているかを確認。\nオンラインマニュアル（PDF）\nhttps://download.asrock.com/Manual/Z690%20Steel%20Legend.pdf\nマニュアルの７９ページにBIOSの「Advanced」に関する項目がありますが、ここで\n4.6.4 Intel(R) Thunderbolt（８６ページ）\nにカードの有効化にする項目があるので、これが無効になってる場合「有効化」。\nここを確認したところ、無効化されていたので、有効化する事で復活しました。\n■ 何故、無効化されたのか？ 思い返せば、昨晩、電源ボックスのスイッチを切り電源を完全に落として一晩放置していたので、それが原因だったようです。\n■ しかし、また再発・・・ 復旧して喜んだのも束の間、USB-Cアダプターに２つ目のHDMIを接続すると、モニタを認識しなくなるトラブルが再発。\n液晶タブレットなど別の機器に接続すると何故か復活し、元のモニタ（L８８７）を接続すると完全に復旧し、再起動後も症状が出なくなりました。\n■ 本当の原因は「EDID」？ EDIDはPCやGPUが接続されたモニタの仕様（解像度、リフレッシュレート、音声出力の有無など）を読み取るために使われており、電源を切ったことでキャッシュデータがリセットされた事で、映像信号の読み取りが上手くできなくなり、今回のような症状が出たと思われます。\n※EDID読み込み失敗（信号が不安 or キャッシュが壊れる）\n⚠️ よくあるEDIDトラブルの例 モニタが映らない・一瞬ついて消える：\nEDID読み込み失敗（信号が不安定、キャッシュが壊れている）\n間違った解像度で表示される：\n古いモニタや中華アダプタが誤情報を送っている\n別のモニタに変えても挙動がおかしい：\nOS側にEDIDがキャッシュされている（Windowsが引きずってる）\n■ EDID保持装置を使うと問題が解消されやすい 今回のような変換ケーブル、Thunderbolt4、USB-C経由によるHDMI変換から、DVIへの変換と、多重な映像変換をする事で、EDIDが不安定になったのが主な要因だと思われます。\n今まで正常に動いていたのは、大元の電源を落とさず、マザーボード側に電源が供給されておりEDIDのキャッシュデータが保持されていて、そのデータをもとにモニタ側と通信できていたためだと思います。\n今回のように電源を完全に切ってEDIDのキャッシュが削除されると再度EDIDと\nCONNECTPRO 3D対応HDMI EDID信号保持機 TMDS-EDID https://www.amazon.co.jp/dp/B00HX3DK18\n★ まとめ グラフィックボードとモニターの接続は、可能な限り変換アダプタを使わず、 シンプルな構成にすることで、EDIDに起因する問題を回避できます。\n今回のように特殊な接続が必要な場合は、 EDIDキャッシュ保持装置の導入が有効です。\nまた、Thunderbolt AICを利用する構成では、BIOS設定が予期せず変更されている可能性もあるため、 起動トラブル時はまずBIOS設定を確認することが有効です。\n","summary":"\u003cp\u003e朝、PCを起動したらメインモニターが真っ暗。\u003c/p\u003e\n\u003cp\u003e現在のグラフィックボードからモニタへの接続は、やや特殊で、ASRockのThunderbolt4 AICカードに、DisplayPortでGPUとケーブル接続し、Thunderbolt4 AICカード側はノーブランド（中華製）の「USB-C -\u0026gt; HDMI 変換 2 ポート」を繋ぎ、HDMIケーブルでモニタに繋ぐというややこしいつなぎ方をしてます。\u003c/p\u003e\n\u003cp\u003eつまり\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eRTX4070Ti → Thunderbolt AIC → USB-C → HDMI変換 → モニタ（L887）\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eという構成でしたが、突然映らなくなりました。\u003c/p\u003e\n\u003cp\u003e当初は、Thunderboltカードの故障を疑いましたが、デバイスマネージャーやThunderboltコントロールセンター上では正常に動作しているように見え、異常は確認できませんでした。\u003c/p\u003e\n\u003cp\u003eMicrosoft Thunderbolt™ コントロール・センター 公式\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://apps.microsoft.com/detail/9n6f0jv38ph1?hl=ja-JP\u0026amp;gl=JP\"\u003ehttps://apps.microsoft.com/detail/9n6f0jv38ph1?hl=ja-JP\u0026amp;gl=JP\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eここで、故障原因として考えられるのは・・\u003c/p\u003e\n\u003ch2 id=\"原因bios設定\"\u003e原因①：BIOS設定\u003c/h2\u003e\n\u003cp\u003eThunderboltサポートが有効になっているか？\n（ASRockマザーの場合、TBT設定がBIOSにあり）\u003c/p\u003e\n\u003cp\u003eSecurity Levelが「No Security」や「User Authorization」以外になっていないか\u003c/p\u003e\n\u003cp\u003e「認証待ち」状態で止まっていると、表示されないことがあります\u003c/p\u003e\n\u003ch2 id=\"原因thunderboltコントロールセンター\"\u003e原因②：Thunderboltコントロールセンター\u003c/h2\u003e\n\u003cp\u003e「Thunderbolt コントロールセンター」アプリ インストールの有無と、「接続されたデバイス」や「Thunderboltポート」が表示されるか確認\u003c/p\u003e\n\u003cp\u003e\u003cem\u003e\u003cstrong\u003e※Microsoft Storeからインストール可能\u003c/strong\u003e\u003c/em\u003e\u003c/p\u003e\n\u003ch2 id=\"原因ケーブル接続不良\"\u003e原因③：ケーブル・接続不良\u003c/h2\u003e\n\u003cp\u003eThunderbolt 4 AICカードはマザーボードのTBTヘッダーと必ず接続する必要があり接続に問題がないかどうか。（チェック済み）\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e⚠ これが接続されていないと Thunderbolt コントローラーが無効化される\u003c/strong\u003e\u003c/p\u003e\n\u003ch2 id=\"原因displayportの接触\"\u003e原因④：DisplayPortの接触\u003c/h2\u003e\n\u003cp\u003e基礎的な事としてグラボ（RTX 4070Ti）→ Thunderbolt AICカードへの DisplayPort INケーブルはきちんと接続されているか？（チェック済み）\u003c/p\u003e\n\u003cp\u003eこれが未接続、もしくは接触不良だと映像信号がカードに届かず映像出力できません。\u003cbr\u003e\n\u003cbr\u003e\n\u003cbr\u003e\n■とりあえず、BIOSの項目をチェック・・・\u003c/p\u003e\n\u003cp\u003eカードの接触不良を確認する前に、とりあえず、BIOS設定の「Thunderbolt Support」が有効になっているかを確認。\u003c/p\u003e\n\u003cp\u003eオンラインマニュアル（PDF）\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://download.asrock.com/Manual/Z690%20Steel%20Legend.pdf\"\u003ehttps://download.asrock.com/Manual/Z690%20Steel%20Legend.pdf\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://download.asrock.com/Manual/Z690%20Steel%20Legend.pdf\"\u003e\u003c/a\u003eマニュアルの７９ページにBIOSの「Advanced\u003ca href=\"https://download.asrock.com/Manual/Z690%20Steel%20Legend.pdf\"\u003e\u003c/a\u003e」に関する項目がありますが、ここで\u003cbr\u003e\n4.6.4 Intel(R) Thunderbolt（８６ページ）\u003cbr\u003e\nにカードの有効化にする項目があるので、これが無効になってる場合「有効化」。\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/uploads/%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B815913.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/uploads/%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B815914.jpg\"\u003e\u003c/p\u003e","title":"【トラブル対処】Thunderbolt AICでモニタが映らない→BIOS設定とEDID問題で解決","url":"/posts/thunderbolt-bios-fix/"},{"content":"日本語入力テスト。\n問題なく入力できるようです。\nマークダウン入力テスト 太字もOK？\n画像アップロードテスト：Stable Diffusion version: v1.10.1\nコード入力：HTML\n\u0026lt;!DOCTYPE html\u0026gt;\r\u0026lt;html\u0026gt;\r\u0026lt;head\u0026gt;\r\u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt;\r\u0026lt;title\u0026gt;Netlify CMS\u0026lt;/title\u0026gt;\r\u0026lt;script src=\u0026#34;https://identity.netlify.com/v1/netlify-identity-widget.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;\r\u0026lt;script\u0026gt;\rwindow.CMS_MANUAL_INIT = true;\r\u0026lt;/script\u0026gt;\r\u0026lt;script src=\u0026#34;https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;\r\u0026lt;/head\u0026gt;\r\u0026lt;body\u0026gt;\r\u0026lt;script\u0026gt;\rif (window.netlifyIdentity) {\rwindow.netlifyIdentity.on(\u0026#34;init\u0026#34;, (user) =\u0026gt; {\rif (!user) {\rwindow.netlifyIdentity.on(\u0026#34;login\u0026#34;, () =\u0026gt; {\rdocument.location.href = \u0026#34;/admin/\u0026#34;;\r});\r}\r});\rwindow.netlifyIdentity.init();\r}\rwindow.CMS.init();\r\u0026lt;/script\u0026gt;\r\u0026lt;div id=\u0026#34;nc-root\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;/body\u0026gt;\r\u0026lt;/html\u0026gt; ","summary":"\u003cp\u003e日本語入力テスト。\u003c/p\u003e\n\u003cp\u003e問題なく入力できるようです。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eマークダウン入力テスト 太字もOK？\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e画像アップロードテスト：Stable Diffusion version: v1.10.1\u003c/p\u003e\n\u003cp\u003e\u003cimg alt=\"Stable Diffusion version: v1.10.1 \" loading=\"lazy\" src=\"/images/uploads/00011-524648632.png\" title=\"Stable Diffusion version: v1.10.1 \"\u003e\u003c/p\u003e\n\u003cp\u003eコード入力：HTML\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode class=\"language-chuck\" data-lang=\"chuck\"\u003e\u0026lt;!DOCTYPE html\u0026gt;\r\n\u0026lt;html\u0026gt;\r\n  \u0026lt;head\u0026gt;\r\n    \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt;\r\n    \u0026lt;title\u0026gt;Netlify CMS\u0026lt;/title\u0026gt;\r\n    \u0026lt;script src=\u0026#34;https://identity.netlify.com/v1/netlify-identity-widget.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;\r\n    \u0026lt;script\u0026gt;\r\n      window.CMS_MANUAL_INIT = true;\r\n    \u0026lt;/script\u0026gt;\r\n    \u0026lt;script src=\u0026#34;https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;\r\n  \u0026lt;/head\u0026gt;\r\n  \u0026lt;body\u0026gt;\r\n    \u0026lt;script\u0026gt;\r\n      if (window.netlifyIdentity) {\r\n        window.netlifyIdentity.on(\u0026#34;init\u0026#34;, (user) =\u0026gt; {\r\n          if (!user) {\r\n            window.netlifyIdentity.on(\u0026#34;login\u0026#34;, () =\u0026gt; {\r\n              document.location.href = \u0026#34;/admin/\u0026#34;;\r\n            });\r\n          }\r\n        });\r\n\r\n        window.netlifyIdentity.init();\r\n      }\r\n      window.CMS.init();\r\n    \u0026lt;/script\u0026gt;\r\n    \u0026lt;div id=\u0026#34;nc-root\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\r\n  \u0026lt;/body\u0026gt;\r\n\u0026lt;/html\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e","title":"Decap CMS導入テスト投稿","url":"/posts/decap-cms%E5%B0%8E%E5%85%A5%E3%83%86%E3%82%B9%E3%83%88%E6%8A%95%E7%A8%BF/"},{"content":"（本文はまだありません）\n","summary":"\u003cp\u003e（本文はまだありません）\u003c/p\u003e","title":"ダミー記事12","url":"/posts/first/"},{"content":"こんにちは、これは私の最初のHugo記事です！\n","summary":"\u003cp\u003eこんにちは、これは私の最初のHugo記事です！\u003c/p\u003e","title":"はじめての投稿","url":"/posts/first-post/"},{"content":"","summary":"","title":"Second","url":"/posts/second/"},{"content":"（本文はまだありません）\n","summary":"\u003cp\u003e（本文はまだありません）\u003c/p\u003e","title":"３つ目の投稿","url":"/posts/third/"}]